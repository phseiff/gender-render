<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>gender_render.handle_context_values API documentation</title>
<meta name="description" content="Functions that regard gender*render pronoun data&#39;s properties and attributes and their relationship to
context-values of tags." />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>gender_render.handle_context_values</code></h1>
</header>
<section id="section-intro">
<p>Functions that regard gender*render pronoun data's properties and attributes and their relationship to
context-values of tags.</p>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/phseiff/gender-render/tree/gh-pages/gender_render/handle_context_values.py#L0-L164" class="git-link">Browse git</a>
</summary>
<pre><code class="python">&#34;&#34;&#34;
Functions that regard gender*render pronoun data&#39;s properties and attributes and their relationship to
context-values of tags.
&#34;&#34;&#34;

from typing import Dict, Union

from . import errors
from . import warnings
from . import gender_nouns

# some type definitions:


IDPD = Dict[str, str]
GRPD = Dict[str, IDPD]


# values for context sections:


class ContextValues:
    &#34;&#34;&#34;Defines values for context sections/ attributes for individual pronoun data as well as methods to compare them
    (which is not trivial since there are multiple words (&#34;properties&#34;) for every attribute.&#34;&#34;&#34;

    properties = [
        # context values of gender*render tags:
        [&#34;subject&#34;, &#34;they&#34;, &#34;subj&#34;],
        [&#34;object&#34;, &#34;them&#34;, &#34;obj&#34;],
        [&#34;dpossessive&#34;, &#34;their&#34;, &#34;dposs&#34;],
        [&#34;ipossessive&#34;, &#34;theirs&#34;, &#34;iposs&#34;],
        [&#34;reflexive&#34;, &#34;themself&#34;, &#34;reflex&#34;],

        [&#34;address&#34;, &#34;Mr_s&#34;, &#34;Mr&#34;, &#34;Mrs&#34;],
        [&#34;surname&#34;, &#34;Doe&#34;, &#34;name&#34;, &#34;family-names&#34;],
        [&#34;personal-name&#34;, &#34;Jean&#34;, &#34;first-name&#34;],

        # properties of individual pronoun data:
        [&#34;gender-addressing&#34;],
        [&#34;gender-nouns&#34;]
    ]
    &#34;&#34;&#34;A list of lists, each one containing all properties corresponding to one certain attribute.
    The first value is always the canonical value (the one that pronoun data should ideally use), the second value
    the intuitive one (the one with the best language flow when used in a template), and the third one may be the
    shortest form, but there is no specific rule to this.&#34;&#34;&#34;

    properties_to_canonical_property = dict()
    &#34;&#34;&#34;Maps every property to a &#34;canonical property&#34;. Canonical properties are a concept used by this implementation to
    check two properties for equal meaning; if they both have the same canonical property, their meaning is equal.&#34;&#34;&#34;

    canonical_properties_that_directly_map_between_template_and_pronoun_data = [
        &#34;subject&#34;, &#34;object&#34;, &#34;dpossessive&#34;, &#34;ipossessive&#34;, &#34;reflexive&#34;, &#34;address&#34;, &#34;surname&#34;, &#34;personal-name&#34;
    ]
    &#34;&#34;&#34;A list of canonical properties that map directly between template and individual pronoun data.&#34;&#34;&#34;

    properties_that_allow_only_some_values_in_pd = {
        &#34;gender-addressing&#34;: {&#34;false&#34;, &#34;true&#34;, &#34;f&#34;, &#34;t&#34;},
        &#34;gender-nouns&#34;: {&#34;female&#34;, &#34;male&#34;, &#34;neutral&#34;}
    }
    &#34;&#34;&#34;A mapping of all (canonical) pronoun data properties that only allow some selected values to sets of these
    values.&#34;&#34;&#34;

    default_values = {
        &#34;gender-addressing&#34;: &#34;t&#34;,
        &#34;gender-nouns&#34;: &#34;neutral&#34;
    }
    &#34;&#34;&#34;A mapping of all (canonical) pronoun data properties who have default values to their default values.&#34;&#34;&#34;

    @staticmethod
    def get_value(grpd: GRPD, id: str, property_name: str) -&gt; str:
        &#34;&#34;&#34;Returns the value of property_name of the given id in the given grpd, and raises the correct error if this
        id does not have this value defined and there is no default value.
        If there is a default value to use, however, this default value is returned and a warning is risen.
        This does not check whether the value assigned by the GRPD is allowed for its property, since this should be
        done by the pd parser on pd initialisation time instead of every time the pd is usd to render a template.&#34;&#34;&#34;
        if property_name in grpd[id]:
            return grpd[id][property_name]
        else:
            if property_name not in ContextValues.default_values:
                raise errors.MissingInformationError(&#34;A tag in the template required the \&#34;&#34; + property_name
                                                     + &#34;\&#34;-attribute of individual \&#34;&#34; + id + &#34;\&#34;, but their &#34;
                                                     + &#34;individual pronoun data does not define this attribute.&#34;)
            else:
                warnings.WarningManager.raise_warning(&#34;Rendering a template requires the default value of the \&#34;&#34;
                                                      + property_name + &#34;\&#34;-property of individuum \&#34;&#34; + id + &#34;\&#34;, but &#34;
                                                      + &#34;this individuum has this value undefined, so its default had &#34;
                                                      + &#34;to be used.&#34;, warnings.DefaultValueUsedWarning)
                return ContextValues.default_values[property_name]

    @staticmethod
    def value_is_allowed(canonical_property_name: str, value: str) -&gt; bool:
        &#34;&#34;&#34;Returns whether the given canonical property name allows the given value (in the individual pronoun data;
        this is not about the templates)&#34;&#34;&#34;
        if canonical_property_name in ContextValues.properties_that_allow_only_some_values_in_pd:
            if value not in ContextValues.properties_that_allow_only_some_values_in_pd[canonical_property_name]:
                return False
        return True

    @staticmethod
    def initialize():
        &#34;&#34;&#34;Initializes the data bundled with ContextValues. &#34;&#34;&#34;
        for property_list in ContextValues.properties:
            for p in property_list:
                ContextValues.properties_to_canonical_property[p] = property_list[0]

    @staticmethod
    def property_maps_directly_between_template_and_pronoun_data(property_name: str) -&gt; bool:
        &#34;&#34;&#34;Checks whether this canonical property name can be mapped between template and individual pronoun data
        directly without any additional calculations whatsoever.&#34;&#34;&#34;
        if type(property_name) is not str:
            return False
        return (
                property_name in ContextValues.canonical_properties_that_directly_map_between_template_and_pronoun_data
                or (property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;))
        )

    @staticmethod
    def is_a_custom_value(property_name: str) -&gt; bool:
        &#34;&#34;&#34;Returns whether the (not necessarily canonical) property is a custom property.
        This function is made for pronoun data analysis, not tag analysis.&#34;&#34;&#34;
        return property_name not in ContextValues.properties_to_canonical_property

    @staticmethod
    def uses_special_custom_value_syntax(property_name: str) -&gt; bool:
        &#34;&#34;&#34;Returns whether the property uses the special syntax for making custom properties in individual pronoun data
        to be distinguishable from standard attributes.&#34;&#34;&#34;
        return property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;) or property_name.startswith(&#34;_&#34;)

    @staticmethod
    def is_a_custom_property_defined_in_a_tag(property_name: str) -&gt; bool:
        &#34;&#34;&#34;Returns whether the property is a custom property using the syntax of tags, which is the
        &#34;&lt;property_name&gt;&#34;-syntax.&#34;&#34;&#34;
        return property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;)

    @staticmethod
    def get_canonical_of_custom_property(property_name: str) -&gt; str:
        &#34;&#34;&#34;Returns the canonical of a custom property, which happens to be the &#34;&lt;property_name&gt;&#34;-syntax.&#34;&#34;&#34;
        if property_name.startswith(&#34;_&#34;):
            return &#34;&lt;&#34; + property_name[1:] + &#34;&gt;&#34;
        elif property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;):
            return property_name
        else:
            return &#34;&lt;&#34; + property_name + &#34;&gt;&#34;

    @staticmethod
    def get_canonical(property_name: str, is_from_tag=True) -&gt; Union[str, gender_nouns.GenderedNoun]:
        &#34;&#34;&#34;Returns the canonical version for a context value or pronoun data property.
        If is_from_tag is True, the method assumes that the value is from a context section (unknown names are nouns).
        Otherwise, it assumes unknown names are custom attributes.
        The canonical version of custom attributes is the &#34;&lt;property_name&gt;&#34;-syntax.&#34;&#34;&#34;
        if property_name in ContextValues.properties_to_canonical_property:
            return ContextValues.properties_to_canonical_property[property_name]
        else:
            if is_from_tag:
                if ContextValues.is_a_custom_property_defined_in_a_tag(property_name):
                    return ContextValues.get_canonical_of_custom_property(property_name)
                else:
                    return gender_nouns.GenderedNoun(property_name)
            else:
                return ContextValues.get_canonical_of_custom_property(property_name)

# initialize all derived data generated in this submodule:


ContextValues.initialize()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="gender_render.handle_context_values.ContextValues"><code class="flex name class">
<span>class <span class="ident">ContextValues</span></span>
</code></dt>
<dd>
<div class="desc"><p>Defines values for context sections/ attributes for individual pronoun data as well as methods to compare them
(which is not trivial since there are multiple words ("properties") for every attribute.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/phseiff/gender-render/tree/gh-pages/gender_render/handle_context_values.py#L22-L160" class="git-link">Browse git</a>
</summary>
<pre><code class="python">class ContextValues:
    &#34;&#34;&#34;Defines values for context sections/ attributes for individual pronoun data as well as methods to compare them
    (which is not trivial since there are multiple words (&#34;properties&#34;) for every attribute.&#34;&#34;&#34;

    properties = [
        # context values of gender*render tags:
        [&#34;subject&#34;, &#34;they&#34;, &#34;subj&#34;],
        [&#34;object&#34;, &#34;them&#34;, &#34;obj&#34;],
        [&#34;dpossessive&#34;, &#34;their&#34;, &#34;dposs&#34;],
        [&#34;ipossessive&#34;, &#34;theirs&#34;, &#34;iposs&#34;],
        [&#34;reflexive&#34;, &#34;themself&#34;, &#34;reflex&#34;],

        [&#34;address&#34;, &#34;Mr_s&#34;, &#34;Mr&#34;, &#34;Mrs&#34;],
        [&#34;surname&#34;, &#34;Doe&#34;, &#34;name&#34;, &#34;family-names&#34;],
        [&#34;personal-name&#34;, &#34;Jean&#34;, &#34;first-name&#34;],

        # properties of individual pronoun data:
        [&#34;gender-addressing&#34;],
        [&#34;gender-nouns&#34;]
    ]
    &#34;&#34;&#34;A list of lists, each one containing all properties corresponding to one certain attribute.
    The first value is always the canonical value (the one that pronoun data should ideally use), the second value
    the intuitive one (the one with the best language flow when used in a template), and the third one may be the
    shortest form, but there is no specific rule to this.&#34;&#34;&#34;

    properties_to_canonical_property = dict()
    &#34;&#34;&#34;Maps every property to a &#34;canonical property&#34;. Canonical properties are a concept used by this implementation to
    check two properties for equal meaning; if they both have the same canonical property, their meaning is equal.&#34;&#34;&#34;

    canonical_properties_that_directly_map_between_template_and_pronoun_data = [
        &#34;subject&#34;, &#34;object&#34;, &#34;dpossessive&#34;, &#34;ipossessive&#34;, &#34;reflexive&#34;, &#34;address&#34;, &#34;surname&#34;, &#34;personal-name&#34;
    ]
    &#34;&#34;&#34;A list of canonical properties that map directly between template and individual pronoun data.&#34;&#34;&#34;

    properties_that_allow_only_some_values_in_pd = {
        &#34;gender-addressing&#34;: {&#34;false&#34;, &#34;true&#34;, &#34;f&#34;, &#34;t&#34;},
        &#34;gender-nouns&#34;: {&#34;female&#34;, &#34;male&#34;, &#34;neutral&#34;}
    }
    &#34;&#34;&#34;A mapping of all (canonical) pronoun data properties that only allow some selected values to sets of these
    values.&#34;&#34;&#34;

    default_values = {
        &#34;gender-addressing&#34;: &#34;t&#34;,
        &#34;gender-nouns&#34;: &#34;neutral&#34;
    }
    &#34;&#34;&#34;A mapping of all (canonical) pronoun data properties who have default values to their default values.&#34;&#34;&#34;

    @staticmethod
    def get_value(grpd: GRPD, id: str, property_name: str) -&gt; str:
        &#34;&#34;&#34;Returns the value of property_name of the given id in the given grpd, and raises the correct error if this
        id does not have this value defined and there is no default value.
        If there is a default value to use, however, this default value is returned and a warning is risen.
        This does not check whether the value assigned by the GRPD is allowed for its property, since this should be
        done by the pd parser on pd initialisation time instead of every time the pd is usd to render a template.&#34;&#34;&#34;
        if property_name in grpd[id]:
            return grpd[id][property_name]
        else:
            if property_name not in ContextValues.default_values:
                raise errors.MissingInformationError(&#34;A tag in the template required the \&#34;&#34; + property_name
                                                     + &#34;\&#34;-attribute of individual \&#34;&#34; + id + &#34;\&#34;, but their &#34;
                                                     + &#34;individual pronoun data does not define this attribute.&#34;)
            else:
                warnings.WarningManager.raise_warning(&#34;Rendering a template requires the default value of the \&#34;&#34;
                                                      + property_name + &#34;\&#34;-property of individuum \&#34;&#34; + id + &#34;\&#34;, but &#34;
                                                      + &#34;this individuum has this value undefined, so its default had &#34;
                                                      + &#34;to be used.&#34;, warnings.DefaultValueUsedWarning)
                return ContextValues.default_values[property_name]

    @staticmethod
    def value_is_allowed(canonical_property_name: str, value: str) -&gt; bool:
        &#34;&#34;&#34;Returns whether the given canonical property name allows the given value (in the individual pronoun data;
        this is not about the templates)&#34;&#34;&#34;
        if canonical_property_name in ContextValues.properties_that_allow_only_some_values_in_pd:
            if value not in ContextValues.properties_that_allow_only_some_values_in_pd[canonical_property_name]:
                return False
        return True

    @staticmethod
    def initialize():
        &#34;&#34;&#34;Initializes the data bundled with ContextValues. &#34;&#34;&#34;
        for property_list in ContextValues.properties:
            for p in property_list:
                ContextValues.properties_to_canonical_property[p] = property_list[0]

    @staticmethod
    def property_maps_directly_between_template_and_pronoun_data(property_name: str) -&gt; bool:
        &#34;&#34;&#34;Checks whether this canonical property name can be mapped between template and individual pronoun data
        directly without any additional calculations whatsoever.&#34;&#34;&#34;
        if type(property_name) is not str:
            return False
        return (
                property_name in ContextValues.canonical_properties_that_directly_map_between_template_and_pronoun_data
                or (property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;))
        )

    @staticmethod
    def is_a_custom_value(property_name: str) -&gt; bool:
        &#34;&#34;&#34;Returns whether the (not necessarily canonical) property is a custom property.
        This function is made for pronoun data analysis, not tag analysis.&#34;&#34;&#34;
        return property_name not in ContextValues.properties_to_canonical_property

    @staticmethod
    def uses_special_custom_value_syntax(property_name: str) -&gt; bool:
        &#34;&#34;&#34;Returns whether the property uses the special syntax for making custom properties in individual pronoun data
        to be distinguishable from standard attributes.&#34;&#34;&#34;
        return property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;) or property_name.startswith(&#34;_&#34;)

    @staticmethod
    def is_a_custom_property_defined_in_a_tag(property_name: str) -&gt; bool:
        &#34;&#34;&#34;Returns whether the property is a custom property using the syntax of tags, which is the
        &#34;&lt;property_name&gt;&#34;-syntax.&#34;&#34;&#34;
        return property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;)

    @staticmethod
    def get_canonical_of_custom_property(property_name: str) -&gt; str:
        &#34;&#34;&#34;Returns the canonical of a custom property, which happens to be the &#34;&lt;property_name&gt;&#34;-syntax.&#34;&#34;&#34;
        if property_name.startswith(&#34;_&#34;):
            return &#34;&lt;&#34; + property_name[1:] + &#34;&gt;&#34;
        elif property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;):
            return property_name
        else:
            return &#34;&lt;&#34; + property_name + &#34;&gt;&#34;

    @staticmethod
    def get_canonical(property_name: str, is_from_tag=True) -&gt; Union[str, gender_nouns.GenderedNoun]:
        &#34;&#34;&#34;Returns the canonical version for a context value or pronoun data property.
        If is_from_tag is True, the method assumes that the value is from a context section (unknown names are nouns).
        Otherwise, it assumes unknown names are custom attributes.
        The canonical version of custom attributes is the &#34;&lt;property_name&gt;&#34;-syntax.&#34;&#34;&#34;
        if property_name in ContextValues.properties_to_canonical_property:
            return ContextValues.properties_to_canonical_property[property_name]
        else:
            if is_from_tag:
                if ContextValues.is_a_custom_property_defined_in_a_tag(property_name):
                    return ContextValues.get_canonical_of_custom_property(property_name)
                else:
                    return gender_nouns.GenderedNoun(property_name)
            else:
                return ContextValues.get_canonical_of_custom_property(property_name)</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="gender_render.handle_context_values.ContextValues.properties"><code class="name">var <span class="ident">properties</span></code></dt>
<dd>
<div class="desc"><p>A list of lists, each one containing all properties corresponding to one certain attribute.
The first value is always the canonical value (the one that pronoun data should ideally use), the second value
the intuitive one (the one with the best language flow when used in a template), and the third one may be the
shortest form, but there is no specific rule to this.</p></div>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.properties_to_canonical_property"><code class="name">var <span class="ident">properties_to_canonical_property</span></code></dt>
<dd>
<div class="desc"><p>Maps every property to a "canonical property". Canonical properties are a concept used by this implementation to
check two properties for equal meaning; if they both have the same canonical property, their meaning is equal.</p></div>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.canonical_properties_that_directly_map_between_template_and_pronoun_data"><code class="name">var <span class="ident">canonical_properties_that_directly_map_between_template_and_pronoun_data</span></code></dt>
<dd>
<div class="desc"><p>A list of canonical properties that map directly between template and individual pronoun data.</p></div>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.properties_that_allow_only_some_values_in_pd"><code class="name">var <span class="ident">properties_that_allow_only_some_values_in_pd</span></code></dt>
<dd>
<div class="desc"><p>A mapping of all (canonical) pronoun data properties that only allow some selected values to sets of these
values.</p></div>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.default_values"><code class="name">var <span class="ident">default_values</span></code></dt>
<dd>
<div class="desc"><p>A mapping of all (canonical) pronoun data properties who have default values to their default values.</p></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="gender_render.handle_context_values.ContextValues.get_value"><code class="name flex">
<span>def <span class="ident">get_value</span></span>(<span>grpd: Dict[str, Dict[str, str]], id: str, property_name: str) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the value of property_name of the given id in the given grpd, and raises the correct error if this
id does not have this value defined and there is no default value.
If there is a default value to use, however, this default value is returned and a warning is risen.
This does not check whether the value assigned by the GRPD is allowed for its property, since this should be
done by the pd parser on pd initialisation time instead of every time the pd is usd to render a template.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/phseiff/gender-render/tree/gh-pages/gender_render/handle_context_values.py#L69-L88" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def get_value(grpd: GRPD, id: str, property_name: str) -&gt; str:
    &#34;&#34;&#34;Returns the value of property_name of the given id in the given grpd, and raises the correct error if this
    id does not have this value defined and there is no default value.
    If there is a default value to use, however, this default value is returned and a warning is risen.
    This does not check whether the value assigned by the GRPD is allowed for its property, since this should be
    done by the pd parser on pd initialisation time instead of every time the pd is usd to render a template.&#34;&#34;&#34;
    if property_name in grpd[id]:
        return grpd[id][property_name]
    else:
        if property_name not in ContextValues.default_values:
            raise errors.MissingInformationError(&#34;A tag in the template required the \&#34;&#34; + property_name
                                                 + &#34;\&#34;-attribute of individual \&#34;&#34; + id + &#34;\&#34;, but their &#34;
                                                 + &#34;individual pronoun data does not define this attribute.&#34;)
        else:
            warnings.WarningManager.raise_warning(&#34;Rendering a template requires the default value of the \&#34;&#34;
                                                  + property_name + &#34;\&#34;-property of individuum \&#34;&#34; + id + &#34;\&#34;, but &#34;
                                                  + &#34;this individuum has this value undefined, so its default had &#34;
                                                  + &#34;to be used.&#34;, warnings.DefaultValueUsedWarning)
            return ContextValues.default_values[property_name]</code></pre>
</details>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.value_is_allowed"><code class="name flex">
<span>def <span class="ident">value_is_allowed</span></span>(<span>canonical_property_name: str, value: str) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Returns whether the given canonical property name allows the given value (in the individual pronoun data;
this is not about the templates)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/phseiff/gender-render/tree/gh-pages/gender_render/handle_context_values.py#L90-L97" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def value_is_allowed(canonical_property_name: str, value: str) -&gt; bool:
    &#34;&#34;&#34;Returns whether the given canonical property name allows the given value (in the individual pronoun data;
    this is not about the templates)&#34;&#34;&#34;
    if canonical_property_name in ContextValues.properties_that_allow_only_some_values_in_pd:
        if value not in ContextValues.properties_that_allow_only_some_values_in_pd[canonical_property_name]:
            return False
    return True</code></pre>
</details>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.initialize"><code class="name flex">
<span>def <span class="ident">initialize</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Initializes the data bundled with ContextValues.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/phseiff/gender-render/tree/gh-pages/gender_render/handle_context_values.py#L99-L104" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def initialize():
    &#34;&#34;&#34;Initializes the data bundled with ContextValues. &#34;&#34;&#34;
    for property_list in ContextValues.properties:
        for p in property_list:
            ContextValues.properties_to_canonical_property[p] = property_list[0]</code></pre>
</details>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.property_maps_directly_between_template_and_pronoun_data"><code class="name flex">
<span>def <span class="ident">property_maps_directly_between_template_and_pronoun_data</span></span>(<span>property_name: str) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Checks whether this canonical property name can be mapped between template and individual pronoun data
directly without any additional calculations whatsoever.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/phseiff/gender-render/tree/gh-pages/gender_render/handle_context_values.py#L106-L115" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def property_maps_directly_between_template_and_pronoun_data(property_name: str) -&gt; bool:
    &#34;&#34;&#34;Checks whether this canonical property name can be mapped between template and individual pronoun data
    directly without any additional calculations whatsoever.&#34;&#34;&#34;
    if type(property_name) is not str:
        return False
    return (
            property_name in ContextValues.canonical_properties_that_directly_map_between_template_and_pronoun_data
            or (property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;))
    )</code></pre>
</details>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.is_a_custom_value"><code class="name flex">
<span>def <span class="ident">is_a_custom_value</span></span>(<span>property_name: str) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Returns whether the (not necessarily canonical) property is a custom property.
This function is made for pronoun data analysis, not tag analysis.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/phseiff/gender-render/tree/gh-pages/gender_render/handle_context_values.py#L117-L121" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def is_a_custom_value(property_name: str) -&gt; bool:
    &#34;&#34;&#34;Returns whether the (not necessarily canonical) property is a custom property.
    This function is made for pronoun data analysis, not tag analysis.&#34;&#34;&#34;
    return property_name not in ContextValues.properties_to_canonical_property</code></pre>
</details>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.uses_special_custom_value_syntax"><code class="name flex">
<span>def <span class="ident">uses_special_custom_value_syntax</span></span>(<span>property_name: str) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Returns whether the property uses the special syntax for making custom properties in individual pronoun data
to be distinguishable from standard attributes.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/phseiff/gender-render/tree/gh-pages/gender_render/handle_context_values.py#L123-L127" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def uses_special_custom_value_syntax(property_name: str) -&gt; bool:
    &#34;&#34;&#34;Returns whether the property uses the special syntax for making custom properties in individual pronoun data
    to be distinguishable from standard attributes.&#34;&#34;&#34;
    return property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;) or property_name.startswith(&#34;_&#34;)</code></pre>
</details>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.is_a_custom_property_defined_in_a_tag"><code class="name flex">
<span>def <span class="ident">is_a_custom_property_defined_in_a_tag</span></span>(<span>property_name: str) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Returns whether the property is a custom property using the syntax of tags, which is the
"<property_name>"-syntax.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/phseiff/gender-render/tree/gh-pages/gender_render/handle_context_values.py#L129-L133" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def is_a_custom_property_defined_in_a_tag(property_name: str) -&gt; bool:
    &#34;&#34;&#34;Returns whether the property is a custom property using the syntax of tags, which is the
    &#34;&lt;property_name&gt;&#34;-syntax.&#34;&#34;&#34;
    return property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;)</code></pre>
</details>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.get_canonical_of_custom_property"><code class="name flex">
<span>def <span class="ident">get_canonical_of_custom_property</span></span>(<span>property_name: str) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the canonical of a custom property, which happens to be the "<property_name>"-syntax.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/phseiff/gender-render/tree/gh-pages/gender_render/handle_context_values.py#L135-L143" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def get_canonical_of_custom_property(property_name: str) -&gt; str:
    &#34;&#34;&#34;Returns the canonical of a custom property, which happens to be the &#34;&lt;property_name&gt;&#34;-syntax.&#34;&#34;&#34;
    if property_name.startswith(&#34;_&#34;):
        return &#34;&lt;&#34; + property_name[1:] + &#34;&gt;&#34;
    elif property_name.startswith(&#34;&lt;&#34;) and property_name.endswith(&#34;&gt;&#34;):
        return property_name
    else:
        return &#34;&lt;&#34; + property_name + &#34;&gt;&#34;</code></pre>
</details>
</dd>
<dt id="gender_render.handle_context_values.ContextValues.get_canonical"><code class="name flex">
<span>def <span class="ident">get_canonical</span></span>(<span>property_name: str, is_from_tag=True) ‑> Union[str, <a title="gender_render.gender_nouns.GenderedNoun" href="gender_nouns.html#gender_render.gender_nouns.GenderedNoun">GenderedNoun</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>Returns the canonical version for a context value or pronoun data property.
If is_from_tag is True, the method assumes that the value is from a context section (unknown names are nouns).
Otherwise, it assumes unknown names are custom attributes.
The canonical version of custom attributes is the "<property_name>"-syntax.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
<a href="https://github.com/phseiff/gender-render/tree/gh-pages/gender_render/handle_context_values.py#L145-L160" class="git-link">Browse git</a>
</summary>
<pre><code class="python">@staticmethod
def get_canonical(property_name: str, is_from_tag=True) -&gt; Union[str, gender_nouns.GenderedNoun]:
    &#34;&#34;&#34;Returns the canonical version for a context value or pronoun data property.
    If is_from_tag is True, the method assumes that the value is from a context section (unknown names are nouns).
    Otherwise, it assumes unknown names are custom attributes.
    The canonical version of custom attributes is the &#34;&lt;property_name&gt;&#34;-syntax.&#34;&#34;&#34;
    if property_name in ContextValues.properties_to_canonical_property:
        return ContextValues.properties_to_canonical_property[property_name]
    else:
        if is_from_tag:
            if ContextValues.is_a_custom_property_defined_in_a_tag(property_name):
                return ContextValues.get_canonical_of_custom_property(property_name)
            else:
                return gender_nouns.GenderedNoun(property_name)
        else:
            return ContextValues.get_canonical_of_custom_property(property_name)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<header>
<a class="homelink" rel="home" title="gender*render home" href="https://phseiff.com/gender-render">
<img src="https://phseiff.com/gender-render/docs/images/header-logo.png" alt="">
</a>
</header>
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="gender_render" href="index.html">gender_render</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="gender_render.handle_context_values.ContextValues" href="#gender_render.handle_context_values.ContextValues">ContextValues</a></code></h4>
<ul class="">
<li><code><a title="gender_render.handle_context_values.ContextValues.get_value" href="#gender_render.handle_context_values.ContextValues.get_value">get_value</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.value_is_allowed" href="#gender_render.handle_context_values.ContextValues.value_is_allowed">value_is_allowed</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.initialize" href="#gender_render.handle_context_values.ContextValues.initialize">initialize</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.property_maps_directly_between_template_and_pronoun_data" href="#gender_render.handle_context_values.ContextValues.property_maps_directly_between_template_and_pronoun_data">property_maps_directly_between_template_and_pronoun_data</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.is_a_custom_value" href="#gender_render.handle_context_values.ContextValues.is_a_custom_value">is_a_custom_value</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.uses_special_custom_value_syntax" href="#gender_render.handle_context_values.ContextValues.uses_special_custom_value_syntax">uses_special_custom_value_syntax</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.is_a_custom_property_defined_in_a_tag" href="#gender_render.handle_context_values.ContextValues.is_a_custom_property_defined_in_a_tag">is_a_custom_property_defined_in_a_tag</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.get_canonical_of_custom_property" href="#gender_render.handle_context_values.ContextValues.get_canonical_of_custom_property">get_canonical_of_custom_property</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.get_canonical" href="#gender_render.handle_context_values.ContextValues.get_canonical">get_canonical</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.properties" href="#gender_render.handle_context_values.ContextValues.properties">properties</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.properties_to_canonical_property" href="#gender_render.handle_context_values.ContextValues.properties_to_canonical_property">properties_to_canonical_property</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.canonical_properties_that_directly_map_between_template_and_pronoun_data" href="#gender_render.handle_context_values.ContextValues.canonical_properties_that_directly_map_between_template_and_pronoun_data">canonical_properties_that_directly_map_between_template_and_pronoun_data</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.properties_that_allow_only_some_values_in_pd" href="#gender_render.handle_context_values.ContextValues.properties_that_allow_only_some_values_in_pd">properties_that_allow_only_some_values_in_pd</a></code></li>
<li><code><a title="gender_render.handle_context_values.ContextValues.default_values" href="#gender_render.handle_context_values.ContextValues.default_values">default_values</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>